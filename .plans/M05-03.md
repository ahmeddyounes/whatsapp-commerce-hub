# M05-03 â€” Conversation Inbox Interface

Create admin interface for viewing and managing conversations. Add submenu page 'Inbox' under WhatsApp Commerce Hub. Create class WCH_Admin_Inbox using React for frontend (build with wp-scripts). Inbox layout: Left sidebar with conversation list, Main area with selected conversation, Right sidebar with customer details. Conversation list features: Search by phone number or name, Filter by status (active, pending, closed), Filter by assigned agent, Sort by last message time, Unread indicator badge, Preview of last message (truncated). List item shows: Customer name or phone, Last message preview, Timestamp, Status badge, Assigned agent avatar. Conversation view features: Full message history with sender indicators, Message timestamps, Message status icons (sent/delivered/read), Media attachments rendered inline, System messages (state transitions, agent assignments) styled differently. Quick actions toolbar: Assign to agent dropdown, Mark as closed button, View customer profile button, View linked order button (if exists). Reply composer at bottom: Text input with emoji picker, Attachment button for images/documents, Send button, Template selector dropdown for quick responses, AI Suggest button generating contextual reply. Customer sidebar: Profile photo placeholder, Phone number with click-to-copy, Linked WC customer link, Order history list, Total spent, Saved addresses, Notes field for agent comments. Real-time updates using polling (every 10 seconds) or WebSocket if available. Bulk actions on list: Assign selected, Close selected, Export selected. Acceptance criteria: Inbox loads conversations correctly, messages display in order, replies send successfully, real-time updates work, UI is responsive.
