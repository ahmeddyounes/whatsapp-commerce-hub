# M07-05 â€” Code Quality & WordPress Standards

Implement code quality tools and WordPress coding standards compliance. Create composer.json with: PHP requirement ^8.1, Dev dependencies: phpunit, phpcs, phpcbf, phpstan, brain/monkey, Scripts: test, lint, lint:fix, analyze. Configure PHPCS with phpcs.xml.dist: Ruleset: WordPress-Extra and WordPress-Docs, Exclude: vendor, node_modules, tests, Custom rules: line length 120, Required file headers. Run PHPCS and fix all violations. Create custom sniffs if needed for WCH-specific patterns. Configure PHPStan with phpstan.neon: Level 6 (strict), WordPress extension, WooCommerce stubs, Baseline file for gradual adoption. Run PHPStan and fix all errors or add to baseline with justification. Create .editorconfig: indent_style = tab (WordPress standard), indent_size = 4, end_of_line = lf, charset = utf-8. Create pre-commit hook via Husky or similar: Run PHPCS on changed files, Run PHPStan on changed files, Run affected unit tests, Block commit on failures. Create GitHub Actions workflow .github/workflows/quality.yml: Run PHPCS, Run PHPStan, Check for security advisories, Upload reports as artifacts. Implement security best practices: All database queries use $wpdb->prepare(), All output escaped with esc_html/esc_attr/esc_url, Nonce verification on all form submissions, Capability checks on all admin actions, Sanitize all input with sanitize_text_field/absint/etc. Create security.md documenting: Security measures implemented, Responsible disclosure process, Known security considerations. Acceptance criteria: Zero PHPCS errors, Zero PHPStan errors at level 6, Pre-commit hooks prevent violations, CI blocks PRs with violations, Security review checklist passed.
